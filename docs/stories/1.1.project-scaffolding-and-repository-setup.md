# Story 1.1: Project Scaffolding and Repository Setup

**Status:** Draft

**Epic:** Epic 1: Foundation & Core Dialogue Engine

---

## Story

**As a** developer,
**I want** a properly configured Next.js project with TypeScript, Tailwind CSS, and Git version control,
**so that** I have a solid foundation to build features efficiently.

---

## Acceptance Criteria

1. Next.js 14+ project initialized with App Router and TypeScript enabled
2. Tailwind CSS installed and configured with basic theme setup
3. Git repository initialized with initial commit
4. `.gitignore` configured to exclude `node_modules/`, `.env.local`, `.next/`, and other standard Next.js artifacts
5. Project directory structure created: `src/app/`, `src/components/`, `src/services/`, `src/hooks/`, `src/utils/`, `src/types/`
6. `README.md` created with project title and basic description
7. Package.json includes all necessary dependencies (Next.js, React, TypeScript, Tailwind)
8. Project runs successfully with `npm run dev` and displays default Next.js homepage

---

## Tasks / Subtasks

- [ ] Initialize Next.js 14+ project with TypeScript and App Router (AC: 1)
  - [ ] Run `npx create-next-app@latest` with TypeScript, App Router, and Tailwind CSS options
  - [ ] Verify Next.js version is 14.2+ (check `package.json`)
  - [ ] Verify TypeScript configuration exists (`tsconfig.json`)
  - [ ] Verify App Router structure (`src/app/` directory exists)
- [ ] Configure Tailwind CSS (AC: 2)
  - [ ] Verify Tailwind CSS 3.4+ is installed (check `package.json`)
  - [ ] Verify `tailwind.config.ts` exists and is configured
  - [ ] Verify `postcss.config.js` exists (if required)
  - [ ] Verify global CSS file includes Tailwind directives (`@tailwind base`, etc.)
  - [ ] Test Tailwind utilities work (add test class to default page)
- [ ] Initialize Git repository (AC: 3)
  - [ ] Run `git init` in project root
  - [ ] Create initial commit with project scaffolding files
  - [ ] Verify `.git` directory exists
- [ ] Configure `.gitignore` (AC: 4)
  - [ ] Create or update `.gitignore` with Next.js standard exclusions:
    - `node_modules/`
    - `.env.local`
    - `.next/`
    - `.vercel/`
    - `dist/`
    - `build/`
    - `.DS_Store`
    - `*.log`
  - [ ] Verify `.gitignore` is in root directory
- [ ] Create project directory structure (AC: 5)
  - [ ] Create `src/app/` directory (should already exist from Next.js init)
  - [ ] Create `src/components/` directory
  - [ ] Create `src/services/` directory
  - [ ] Create `src/hooks/` directory
  - [ ] Create `src/utils/` directory
  - [ ] Create `src/types/` directory
  - [ ] Create `src/stores/` directory (for Zustand stores)
  - [ ] Create `src/lib/` directory (for infrastructure like OpenAI client)
  - [ ] Create `public/` directory (should exist, verify)
  - [ ] Create `docs/` directory (should exist, verify)
- [ ] Create README.md (AC: 6)
  - [ ] Add project title: "AI Math Tutor"
  - [ ] Add basic description explaining the project
  - [ ] Add setup instructions (prerequisites, installation, running locally)
  - [ ] Add environment variables section (`.env.local` template)
  - [ ] Place README.md in project root
- [ ] Verify package.json dependencies (AC: 7)
  - [ ] Verify `next` package is 14.2+
  - [ ] Verify `react` and `react-dom` are included
  - [ ] Verify `typescript` is included
  - [ ] Verify `tailwindcss`, `postcss`, `autoprefixer` are included
  - [ ] Verify `@types/node` and `@types/react` are included (devDependencies)
- [ ] Test project runs successfully (AC: 8)
  - [ ] Run `npm install` to install dependencies
  - [ ] Run `npm run dev` to start development server
  - [ ] Verify server starts without errors
  - [ ] Open `http://localhost:3000` in browser
  - [ ] Verify default Next.js homepage displays correctly
  - [ ] Verify no console errors in browser DevTools

---

## Dev Notes

### Project Structure

**Source:** [Source: architecture/unified-project-structure.md]

The project follows a monorepo structure with all code in `src/`:

```
ai-math-tutor/
├── .github/workflows/         # CI/CD (future)
├── .husky/                    # Git hooks (future - for Gitleaks)
├── public/                    # Static assets (avatar images)
├── src/
│   ├── app/                   # Next.js App Router
│   │   ├── api/               # API Routes (serverless backend)
│   │   ├── problem-input/
│   │   └── workspace/
│   ├── components/            # React components
│   ├── hooks/                 # Custom React hooks
│   ├── services/              # Services (frontend + backend)
│   ├── lib/                   # Infrastructure (OpenAI client, error handler)
│   ├── stores/                # Zustand state stores
│   ├── types/                 # Shared TypeScript types
│   └── utils/                 # Utility functions
├── docs/                      # Documentation
├── scripts/                   # Build/deployment scripts
├── .env.local                 # Environment variables (gitignored)
├── .env.example               # Environment template
├── next.config.js             # Next.js configuration
├── package.json               # Dependencies
├── tailwind.config.ts         # Tailwind configuration
├── tsconfig.json              # TypeScript configuration
└── README.md                  # Project documentation
```

### Technology Stack

**Source:** [Source: architecture/tech-stack.md]

**Frontend Framework:**

- Next.js 14.2+ with App Router
- TypeScript 5.3+
- Tailwind CSS 3.4+
- React (latest stable, included with Next.js)

**Key Dependencies to Verify:**

- `next` >= 14.2
- `react` and `react-dom` (latest stable)
- `typescript` >= 5.3
- `tailwindcss` >= 3.4
- `postcss` and `autoprefixer` (for Tailwind)

**Build Tools:**

- npm 10+ (package manager)
- Webpack (bundled with Next.js, no separate config needed)

### TypeScript Configuration

**Source:** [Source: architecture/coding-standards.md]

TypeScript must be configured with **strict mode enabled** in `tsconfig.json`. The coding standards require:

- No `any` types without explicit `// @ts-expect-error` comment
- Proper type imports using `import type { ... }` syntax
- Null handling with explicit checks (`session?.messages`)

### Next.js App Router Structure

**Source:** [Source: architecture/frontend-architecture.md]

The App Router uses the following routing structure:

- `app/page.tsx` - Landing page (`/`)
- `app/problem-input/page.tsx` - Problem input (`/problem-input`)
- `app/workspace/page.tsx` - Tutoring workspace (`/workspace`)

**Note:** This story only creates the directory structure. Route pages will be implemented in later stories.

### Git Configuration

**Source:** [Source: architecture/tech-stack.md]

`.gitignore` must exclude:

- `node_modules/`
- `.env.local` (contains API keys - critical for security)
- `.next/` (Next.js build output)
- `.vercel/` (deployment artifacts)
- Standard IDE files (`.DS_Store`, `.vscode/`, etc.)

**Note:** Gitleaks integration for secret scanning will be added in Story 1.2.

### File Locations

**Source:** [Source: architecture/unified-project-structure.md]

All directories should be created in the root of the project:

- `src/app/` - Next.js App Router pages and API routes
- `src/components/` - React components (empty for now, will be populated in later stories)
- `src/services/` - Service layer (empty for now)
- `src/hooks/` - Custom React hooks (empty for now)
- `src/utils/` - Utility functions (empty for now)
- `src/types/` - TypeScript type definitions (empty for now)
- `src/stores/` - Zustand state stores (empty for now)
- `src/lib/` - Infrastructure code (empty for now)

### Testing

**Source:** No specific testing strategy document found in architecture docs.

**Note:** Testing setup will be added in later stories. This story focuses on project scaffolding only.

### Technical Constraints

**Source:** [Source: architecture/tech-stack.md]

- Next.js 14.2+ is required (App Router support)
- TypeScript 5.3+ is required (type safety)
- Tailwind CSS 3.4+ is required (PRD requirement)
- npm 10+ is required (package management)

### Project Structure Notes

No conflicts identified between PRD requirements and architecture structure. The PRD specifies a monorepo structure with `src/app/`, `src/components/`, etc., which aligns perfectly with the unified project structure document.

---

## Testing

**Source:** [Source: architecture/coding-standards.md]

**Testing Standards for this Story:**

- **Test File Location:** No unit tests required for this scaffolding story (manual validation only)
- **Test Approach:** Manual verification of:
  - Project runs with `npm run dev`
  - Default Next.js homepage displays
  - TypeScript compilation succeeds
  - Tailwind CSS classes work
  - Directory structure matches specification
- **Test Framework:** N/A (testing setup deferred to later stories)

**Specific Testing Requirements:**

- Verify all directories exist and are in correct locations
- Verify package.json contains required dependencies
- Verify `.gitignore` properly excludes sensitive files
- Verify Next.js development server starts successfully
- Verify no TypeScript compilation errors
- Verify Tailwind CSS is working (test with utility class)

---

## Change Log

| Date       | Version | Description                            | Author             |
| ---------- | ------- | -------------------------------------- | ------------------ |
| 2025-11-03 | 1.0     | Story created from Epic 1 requirements | Scrum Master (Bob) |

---

## Dev Agent Record

_This section will be populated by the development agent during implementation._

### Agent Model Used

_To be filled by dev agent_

### Debug Log References

_To be filled by dev agent_

### Completion Notes List

_To be filled by dev agent_

### File List

_To be filled by dev agent_

---

## QA Results

_Results from QA Agent review of the completed story implementation will appear here._
